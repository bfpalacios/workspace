<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition
	template="/plantilla/ModuloProduccion/Plantillas/plantilla.xhtml">
	<ui:define name="contenido">
		<p:outputPanel id="pnlGridMensajes"
			style="width:400px;margin-top:5px;">
			<p:row>
				<p:column colspan="4" rowspan="2">
					<p:messages id="messages" showDetail="true" autoUpdate="true"
						closable="true" />
				</p:column>
			</p:row>
		</p:outputPanel>


		<p:panel id="panelRegistroUsuario"
			header="Solicitud de Cotizacion - Nueva Cotizacion"
			style="width: 100%;">
			<p:panelGrid id="pnlGridNuevaCotizacion">
				
				<p:row>
				<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
					<h:outputText id="lCotizacion"
						value="#{mensaje['produccion.buscar.servicio.label.cotizacionnro']}" />
				</p:column>
				<p:column>
					<p:inputText id="cotizacionNro"
						value="#{cotizacionMBean.cotizacionModel.codigo}" size="20" />
				</p:column>
				<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
					<h:outputText id="lFecha" value="#{mensaje['general.label.fecha']}" />
				</p:column>
				<p:column>
					<p:calendar value="#{cotizacionMBean.date}" id="fechaCotizacion"
						pattern="dd/MM/yyyy" mode="popup" showOn="button">
					</p:calendar>
				</p:column>
			</p:row>
				<p:row>

					<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
						<h:outputText id="lblNombre"
							value="#{mensaje['produccion.nuevo.cliente.nombre']}" />
					</p:column>

					<p:column>
						<p:inputText id="nombre" size="40"
							value="#{cotizacionMBean.cotizacionModel.usuarioModel.nombres}" />
						<p:message for="nombre" />
					</p:column>

					<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
						<h:outputText id="lblDni"
							value="#{mensaje['produccion.nuevo.cliente.nrodoc']}" />
					</p:column>

					<p:column>
						<p:inputText id="dni" size="10"
							value="#{cotizacionMBean.cotizacionModel.usuarioModel.dni}" />
						<p:message for="dni" />
					</p:column>

				</p:row>

				<p:row>

					<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
						<h:outputText id="lblDireccion"
							value="#{mensaje['produccion.nuevo.cliente.direccion']}" />
					</p:column>

					<p:column>
						<p:inputText id="direccionUsuario" size="40"
							value="#{cotizacionMBean.cotizacionModel.usuarioModel.direccion}" />
						<p:message for="direccionUsuario" />
					</p:column>

					<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
						<h:outputText id="lblTelefonoUsuario"
							value="#{mensaje['produccion.nuevo.cliente.telefono']}" />
					</p:column>

					<p:column colspan="5">
						<p:inputText id="telefonoUsuario" size="10"
							value="#{cotizacionMBean.cotizacionModel.usuarioModel.telefono}" />
					</p:column>

				</p:row>



				<p:row>
					<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
						<h:outputText id="lblEmail1"
							value="#{mensaje['produccion.nuevo.cliente.email1']}" />
					</p:column>

					<p:column>
						<p:inputText id="email1" size="25"
							value="#{cotizacionMBean.cotizacionModel.usuarioModel.email1}" />
					</p:column>
					<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
						<h:outputText id="lblEmail2"
							value="#{mensaje['produccion.nuevo.cliente.email2']}" />
					</p:column>

					<p:column colspan="3">
						<p:inputText id="email2" size="25"
							value="#{cotizacionMBean.cotizacionModel.usuarioModel.email2}" />
					</p:column>



				</p:row>

				<p:row>
					<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
						<h:outputText id="lblCite"
							value="#{mensaje['produccion.nuevo.cliente.cite']}" />
					</p:column>

					<p:column>
						<p:inputText id="cite" size="25"
							value="#{cotizacionMBean.servicioModel.descripcionCITE}" />
					</p:column>
					<p:column styleClass="ui-column-label-spij styleAlignRightColumn">
						<h:outputText id="lblSede"
							value="#{mensaje['produccion.nuevo.cliente.sede']}" />
					</p:column>

					<p:column colspan="3">
						<p:inputText id="sede" size="25"
							value="#{cotizacionMBean.servicioModel.sede}" />
					</p:column>



				</p:row>
				<p:spacer width="10px" />

				<p:row id="filTabla2">
					<p:column id="colTabla2"
						styleClass="ui-column-label-spij styleAlignRightColumn"
						colspan="5">
						<p:dataTable id="grillaTablaServicios"
							value="#{cotizacionMBean.selectedServicios}" var="registro"
							paginator="true" rows="20">



							<p:column headerText="Retirar"
								styleClass="ui-column-label-spij styleAlignRightColumn">
								<p:commandButton process="grillaTablaServicios" value="Retirar"
									ajax="true" icon="ui-icon-close" title="Retirar servicio"
									actionListener="#{cotizacionMBean.retirarServicio(registro)}"
									update="grillaTablaServicios">
								</p:commandButton>
							</p:column>

							<p:column headerText="Codigo(*)"
								styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText value="#{registro.codigo}" />
							</p:column>

							<p:column headerText="Nombre Servicio"
								styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText value="#{registro.nombre}" />
							</p:column>

							<p:column headerText="Unidad"
								styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText value="#{registro.unidad}" />
							</p:column>

							<p:column headerText="Requisito"
								styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText value="#{registro.requisito}" />
							</p:column>

							<p:column headerText="Valor de Venta"
								styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText value="#{registro.valorDeVenta}">
								</h:outputText>
							</p:column>


							<p:column headerText="Precio de Venta"
								styleClass="ui-column-label-spij styleAlignRightColumn">
								<h:outputText value="#{registro.precioDeVenta}">
								</h:outputText>

							</p:column>

							<p:columnGroup type="footer">
								<p:row>
									<p:column colspan="6" style="text-align:right"
										footerText="Costo Total:" />
									<p:column footerText="S/. #{cotizacionMBean.totalSuma} " />
								</p:row>
							</p:columnGroup>

						</p:dataTable>
					</p:column>
				</p:row>

			</p:panelGrid>

			<p:spacer width="10px" />

			<p:row id="pnlTerminos">
				<p:column>
					<p:link outcome="/login"
						value="#{mensaje['produccion.terminos.condiciones.titulo']}">
						<f:param name="lTerminosYCondiciones" value="10" />
					</p:link>
				</p:column>

			</p:row>


		</p:panel>

		
		<p:outputPanel id="pnlGuardarCotizacion"
			style="width:400x;margin-top:10px;">
			<p:row>
				<p:column colspan="2" styleClass="styleAlignLeftColumn">
					<p:commandButton id="botonGuardarCotizacion"
						styleClass="buttonMarginNormal"
						value="#{mensaje['produccion.nueva.cotizacion.label.guardarcotizacion']}"
						actionListener="#{cotizacionMBean.guardarCotizacion}"
						update="grillaTablaServicios,cotizacionNro,fechaCotizacion "
						ajax="false" />
				</p:column>

				<p:column colspan="2" styleClass="styleAlignRightColumn">
					<p:commandButton value="Cancelar" id="botonCamcelar"
						actionListener="#{cotizacionMBean.cancelar}" ajax="false" />
				</p:column>
			</p:row>
		</p:outputPanel>




	</ui:define>
</ui:composition>
</html>